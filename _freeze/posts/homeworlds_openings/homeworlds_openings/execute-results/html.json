{
  "hash": "4000f910b651e9c374a2ea514c25565e",
  "result": {
    "markdown": "---\ntitle: \"Homeworlds Openings\"\ndate: \"2023-05-03\"\ndescription: \"A sojourn on star situations.\"\nexecute: \n   warning: false\n   message: false\nfilters:\n   - lightbox\nlightbox: auto\n---\n\n\n## Introduction\n\nHomeworlds is an abstract space battle game designed by John Cooper and published by Looney Labs. It's played with multipurpose game pieces called Looney pyramids, three of each of combination of three sizes (small, medium, and large) and four colours (green, yellow, blue, and red) for 36 in total. A pyramid lying down is a space ship and a pyramid standing up is a star. Each colour is associated with an ability.\n\nAt the beginning of the game, each player chooses two stars to be their homeworld. Star systems are connected if they have no sizes in common.\n\n![Homeworlds star connection rule (from Looney Labs)](home5.jpg)\n\nExpert players actively debate Homeworlds' opening theory. One question is which combination of star sizes should be selected by the first player, and how the second player should respond.\n\n![Some homeworld options (from Looney Labs)](home6.jpg)\n\nWhen players' homeworlds are one step away from one another (i.e. connected), this is known as a \"microverse\". If they are two steps away, that's a \"small universe\", and if they are three steps away, that's a \"large universe\".\n\nIn addition to their homeworld stars, each player selects a pyramid to be their first ship. The rest of the pieces become the bank from which new stars and ships are taken and to which destroyed stars and ships are returned.\n\n## Data\n\n[Babamots](https://jpeterbaker.github.io/homeworlds/site/index.html) compiled information from 4928 games of Homeworlds played on [BoardGameArena](https://en.boardgamearena.com/) and provided a first player win rate and a count of observations for each combination of first and second player homeworld sizes. Draws were counted as half a win for each player. Only games that lasted at least eight turns for each player were included.\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nread_csv(\"homeworlds_openings.csv\") -> \n  homeworlds_openings\n\nhomeworlds_openings |>\n  gt() |> \n  cols_label(p1_wr = \"First Player Win Rate\",\n             n = \"Number of Games\",\n             p1_hw = \"First Player\",\n             p2_hw = \"Second Player\") |>\n  tab_spanner(label = md(\"**Homeworld Sizes**\"), columns = 3:4) |>\n  cols_align(align = \"center\", columns = everything()) |>\n  tab_header(title = \"Homeworlds Openings Data\",\n             subtitle = \"Source: Scraped from BGA by Babamots\") |>\n  tab_options(container.height = \"500px\") |>\n  opt_row_striping()\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"ayyvgupfji\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:500px;\">\n<style>#ayyvgupfji table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#ayyvgupfji thead, #ayyvgupfji tbody, #ayyvgupfji tfoot, #ayyvgupfji tr, #ayyvgupfji td, #ayyvgupfji th {\n  border-style: none;\n}\n\n#ayyvgupfji p {\n  margin: 0;\n  padding: 0;\n}\n\n#ayyvgupfji .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#ayyvgupfji .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#ayyvgupfji .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#ayyvgupfji .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#ayyvgupfji .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#ayyvgupfji .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ayyvgupfji .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#ayyvgupfji .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#ayyvgupfji .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#ayyvgupfji .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#ayyvgupfji .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#ayyvgupfji .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#ayyvgupfji .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#ayyvgupfji .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#ayyvgupfji .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#ayyvgupfji .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#ayyvgupfji .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#ayyvgupfji .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#ayyvgupfji .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ayyvgupfji .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#ayyvgupfji .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#ayyvgupfji .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#ayyvgupfji .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ayyvgupfji .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#ayyvgupfji .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#ayyvgupfji .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ayyvgupfji .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ayyvgupfji .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#ayyvgupfji .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ayyvgupfji .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#ayyvgupfji .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ayyvgupfji .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#ayyvgupfji .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ayyvgupfji .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#ayyvgupfji .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ayyvgupfji .gt_left {\n  text-align: left;\n}\n\n#ayyvgupfji .gt_center {\n  text-align: center;\n}\n\n#ayyvgupfji .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#ayyvgupfji .gt_font_normal {\n  font-weight: normal;\n}\n\n#ayyvgupfji .gt_font_bold {\n  font-weight: bold;\n}\n\n#ayyvgupfji .gt_font_italic {\n  font-style: italic;\n}\n\n#ayyvgupfji .gt_super {\n  font-size: 65%;\n}\n\n#ayyvgupfji .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#ayyvgupfji .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#ayyvgupfji .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#ayyvgupfji .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#ayyvgupfji .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#ayyvgupfji .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#ayyvgupfji .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_heading\">\n      <td colspan=\"4\" class=\"gt_heading gt_title gt_font_normal\" style>Homeworlds Openings Data</td>\n    </tr>\n    <tr class=\"gt_heading\">\n      <td colspan=\"4\" class=\"gt_heading gt_subtitle gt_font_normal gt_bottom_border\" style>Source: Scraped from BGA by Babamots</td>\n    </tr>\n    <tr class=\"gt_col_headings gt_spanner_row\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"2\" colspan=\"1\" scope=\"col\" id=\"First Player Win Rate\">First Player Win Rate</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"2\" colspan=\"1\" scope=\"col\" id=\"Number of Games\">Number of Games</th>\n      <th class=\"gt_center gt_columns_top_border gt_column_spanner_outer\" rowspan=\"1\" colspan=\"2\" scope=\"colgroup\" id=\"&lt;strong&gt;Homeworld Sizes&lt;/strong&gt;\">\n        <span class=\"gt_column_spanner\"><strong>Homeworld Sizes</strong></span>\n      </th>\n    </tr>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"First Player\">First Player</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Second Player\">Second Player</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"p1_wr\" class=\"gt_row gt_center\">0.175</td>\n<td headers=\"n\" class=\"gt_row gt_center\">20</td>\n<td headers=\"p1_hw\" class=\"gt_row gt_center\">SS</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center\">SM</td></tr>\n    <tr><td headers=\"p1_wr\" class=\"gt_row gt_center gt_striped\">0.200</td>\n<td headers=\"n\" class=\"gt_row gt_center gt_striped\">10</td>\n<td headers=\"p1_hw\" class=\"gt_row gt_center gt_striped\">SS</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center gt_striped\">ML</td></tr>\n    <tr><td headers=\"p1_wr\" class=\"gt_row gt_center\">0.250</td>\n<td headers=\"n\" class=\"gt_row gt_center\">4</td>\n<td headers=\"p1_hw\" class=\"gt_row gt_center\">SS</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center\">LL</td></tr>\n    <tr><td headers=\"p1_wr\" class=\"gt_row gt_center gt_striped\">0.292</td>\n<td headers=\"n\" class=\"gt_row gt_center gt_striped\">12</td>\n<td headers=\"p1_hw\" class=\"gt_row gt_center gt_striped\">SS</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center gt_striped\">SL</td></tr>\n    <tr><td headers=\"p1_wr\" class=\"gt_row gt_center\">0.385</td>\n<td headers=\"n\" class=\"gt_row gt_center\">13</td>\n<td headers=\"p1_hw\" class=\"gt_row gt_center\">SL</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center\">MM</td></tr>\n    <tr><td headers=\"p1_wr\" class=\"gt_row gt_center gt_striped\">0.393</td>\n<td headers=\"n\" class=\"gt_row gt_center gt_striped\">28</td>\n<td headers=\"p1_hw\" class=\"gt_row gt_center gt_striped\">ML</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center gt_striped\">MM</td></tr>\n    <tr><td headers=\"p1_wr\" class=\"gt_row gt_center\">0.408</td>\n<td headers=\"n\" class=\"gt_row gt_center\">71</td>\n<td headers=\"p1_hw\" class=\"gt_row gt_center\">SM</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center\">MM</td></tr>\n    <tr><td headers=\"p1_wr\" class=\"gt_row gt_center gt_striped\">0.409</td>\n<td headers=\"n\" class=\"gt_row gt_center gt_striped\">22</td>\n<td headers=\"p1_hw\" class=\"gt_row gt_center gt_striped\">ML</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center gt_striped\">SS</td></tr>\n    <tr><td headers=\"p1_wr\" class=\"gt_row gt_center\">0.441</td>\n<td headers=\"n\" class=\"gt_row gt_center\">34</td>\n<td headers=\"p1_hw\" class=\"gt_row gt_center\">ML</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center\">LL</td></tr>\n    <tr><td headers=\"p1_wr\" class=\"gt_row gt_center gt_striped\">0.449</td>\n<td headers=\"n\" class=\"gt_row gt_center gt_striped\">476</td>\n<td headers=\"p1_hw\" class=\"gt_row gt_center gt_striped\">SL</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center gt_striped\">SM</td></tr>\n    <tr><td headers=\"p1_wr\" class=\"gt_row gt_center\">0.472</td>\n<td headers=\"n\" class=\"gt_row gt_center\">724</td>\n<td headers=\"p1_hw\" class=\"gt_row gt_center\">ML</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center\">SM</td></tr>\n    <tr><td headers=\"p1_wr\" class=\"gt_row gt_center gt_striped\">0.481</td>\n<td headers=\"n\" class=\"gt_row gt_center gt_striped\">27</td>\n<td headers=\"p1_hw\" class=\"gt_row gt_center gt_striped\">SL</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center gt_striped\">LL</td></tr>\n    <tr><td headers=\"p1_wr\" class=\"gt_row gt_center\">0.486</td>\n<td headers=\"n\" class=\"gt_row gt_center\">590</td>\n<td headers=\"p1_hw\" class=\"gt_row gt_center\">SM</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center\">SL</td></tr>\n    <tr><td headers=\"p1_wr\" class=\"gt_row gt_center gt_striped\">0.491</td>\n<td headers=\"n\" class=\"gt_row gt_center gt_striped\">53</td>\n<td headers=\"p1_hw\" class=\"gt_row gt_center gt_striped\">LL</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center gt_striped\">SL</td></tr>\n    <tr><td headers=\"p1_wr\" class=\"gt_row gt_center\">0.495</td>\n<td headers=\"n\" class=\"gt_row gt_center\">92</td>\n<td headers=\"p1_hw\" class=\"gt_row gt_center\">LL</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center\">LL</td></tr>\n    <tr><td headers=\"p1_wr\" class=\"gt_row gt_center gt_striped\">0.495</td>\n<td headers=\"n\" class=\"gt_row gt_center gt_striped\">813</td>\n<td headers=\"p1_hw\" class=\"gt_row gt_center gt_striped\">SM</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center gt_striped\">ML</td></tr>\n    <tr><td headers=\"p1_wr\" class=\"gt_row gt_center\">0.500</td>\n<td headers=\"n\" class=\"gt_row gt_center\">3</td>\n<td headers=\"p1_hw\" class=\"gt_row gt_center\">SS</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center\">MM</td></tr>\n    <tr><td headers=\"p1_wr\" class=\"gt_row gt_center gt_striped\">0.502</td>\n<td headers=\"n\" class=\"gt_row gt_center gt_striped\">430</td>\n<td headers=\"p1_hw\" class=\"gt_row gt_center gt_striped\">SL</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center gt_striped\">ML</td></tr>\n    <tr><td headers=\"p1_wr\" class=\"gt_row gt_center\">0.510</td>\n<td headers=\"n\" class=\"gt_row gt_center\">52</td>\n<td headers=\"p1_hw\" class=\"gt_row gt_center\">SM</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center\">LL</td></tr>\n    <tr><td headers=\"p1_wr\" class=\"gt_row gt_center gt_striped\">0.538</td>\n<td headers=\"n\" class=\"gt_row gt_center gt_striped\">398</td>\n<td headers=\"p1_hw\" class=\"gt_row gt_center gt_striped\">ML</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center gt_striped\">SL</td></tr>\n    <tr><td headers=\"p1_wr\" class=\"gt_row gt_center\">0.550</td>\n<td headers=\"n\" class=\"gt_row gt_center\">30</td>\n<td headers=\"p1_hw\" class=\"gt_row gt_center\">MM</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center\">MM</td></tr>\n    <tr><td headers=\"p1_wr\" class=\"gt_row gt_center gt_striped\">0.571</td>\n<td headers=\"n\" class=\"gt_row gt_center gt_striped\">7</td>\n<td headers=\"p1_hw\" class=\"gt_row gt_center gt_striped\">SS</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center gt_striped\">SS</td></tr>\n    <tr><td headers=\"p1_wr\" class=\"gt_row gt_center\">0.599</td>\n<td headers=\"n\" class=\"gt_row gt_center\">292</td>\n<td headers=\"p1_hw\" class=\"gt_row gt_center\">ML</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center\">ML</td></tr>\n    <tr><td headers=\"p1_wr\" class=\"gt_row gt_center gt_striped\">0.604</td>\n<td headers=\"n\" class=\"gt_row gt_center gt_striped\">130</td>\n<td headers=\"p1_hw\" class=\"gt_row gt_center gt_striped\">SL</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center gt_striped\">SL</td></tr>\n    <tr><td headers=\"p1_wr\" class=\"gt_row gt_center\">0.625</td>\n<td headers=\"n\" class=\"gt_row gt_center\">8</td>\n<td headers=\"p1_hw\" class=\"gt_row gt_center\">MM</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center\">LL</td></tr>\n    <tr><td headers=\"p1_wr\" class=\"gt_row gt_center gt_striped\">0.631</td>\n<td headers=\"n\" class=\"gt_row gt_center gt_striped\">84</td>\n<td headers=\"p1_hw\" class=\"gt_row gt_center gt_striped\">LL</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center gt_striped\">ML</td></tr>\n    <tr><td headers=\"p1_wr\" class=\"gt_row gt_center\">0.635</td>\n<td headers=\"n\" class=\"gt_row gt_center\">52</td>\n<td headers=\"p1_hw\" class=\"gt_row gt_center\">MM</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center\">SM</td></tr>\n    <tr><td headers=\"p1_wr\" class=\"gt_row gt_center gt_striped\">0.643</td>\n<td headers=\"n\" class=\"gt_row gt_center gt_striped\">300</td>\n<td headers=\"p1_hw\" class=\"gt_row gt_center gt_striped\">SM</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center gt_striped\">SM</td></tr>\n    <tr><td headers=\"p1_wr\" class=\"gt_row gt_center\">0.667</td>\n<td headers=\"n\" class=\"gt_row gt_center\">3</td>\n<td headers=\"p1_hw\" class=\"gt_row gt_center\">SM</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center\">SS</td></tr>\n    <tr><td headers=\"p1_wr\" class=\"gt_row gt_center gt_striped\">0.667</td>\n<td headers=\"n\" class=\"gt_row gt_center gt_striped\">6</td>\n<td headers=\"p1_hw\" class=\"gt_row gt_center gt_striped\">SL</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center gt_striped\">SS</td></tr>\n    <tr><td headers=\"p1_wr\" class=\"gt_row gt_center\">0.667</td>\n<td headers=\"n\" class=\"gt_row gt_center\">6</td>\n<td headers=\"p1_hw\" class=\"gt_row gt_center\">MM</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center\">SS</td></tr>\n    <tr><td headers=\"p1_wr\" class=\"gt_row gt_center gt_striped\">0.679</td>\n<td headers=\"n\" class=\"gt_row gt_center gt_striped\">56</td>\n<td headers=\"p1_hw\" class=\"gt_row gt_center gt_striped\">MM</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center gt_striped\">ML</td></tr>\n    <tr><td headers=\"p1_wr\" class=\"gt_row gt_center\">0.723</td>\n<td headers=\"n\" class=\"gt_row gt_center\">47</td>\n<td headers=\"p1_hw\" class=\"gt_row gt_center\">LL</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center\">SM</td></tr>\n    <tr><td headers=\"p1_wr\" class=\"gt_row gt_center gt_striped\">0.750</td>\n<td headers=\"n\" class=\"gt_row gt_center gt_striped\">20</td>\n<td headers=\"p1_hw\" class=\"gt_row gt_center gt_striped\">MM</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center gt_striped\">SL</td></tr>\n    <tr><td headers=\"p1_wr\" class=\"gt_row gt_center\">0.833</td>\n<td headers=\"n\" class=\"gt_row gt_center\">6</td>\n<td headers=\"p1_hw\" class=\"gt_row gt_center\">LL</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center\">SS</td></tr>\n    <tr><td headers=\"p1_wr\" class=\"gt_row gt_center gt_striped\">0.889</td>\n<td headers=\"n\" class=\"gt_row gt_center gt_striped\">9</td>\n<td headers=\"p1_hw\" class=\"gt_row gt_center gt_striped\">LL</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center gt_striped\">MM</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\nWe'll also create some helper vectors and functions that will be convenient later.\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"false\"}\n# helper vectors\n#c(\"SS\", \"SM\", \"SL\", \"MM\", \"ML\", \"LL\") -> hw_sizes\nc(\"SM\", \"SL\", \"ML\", \"SS\", \"MM\", \"LL\") -> hw_sizes\nc(\"micro\", \"small\", \"large\") -> universe_sizes\n\n# list the stars in a homeworld\n(function(hw) {unlist(strsplit(as.character(hw), \"\"))}) -> stars\n\n# determine the universe size\n(function(hw1, hw2) {\n  case_when(length(intersect(stars(hw1), stars(hw2))) == 0 ~ \"micro\",\n            length(unique(c(stars(hw1), stars(hw2)))) <= 2 ~ \"small\",\n            T ~ \"large\")}) -> universe_size\n```\n:::\n\n\n## Modelling First Player Advantage\n\nWe can model first player advantage by imagining that a game of Homeworlds is like a biased coin flip, where each opening is associated with an independent bias. For example, if the bias parameter for some opening is 0.6, then we expect the first player to win 60% of the time that opening is played.[^1]\n\n[^1]: Assuming \"average play\", anyway.\n\nIf this parameter is distributed according to a beta distribution *Beta(a, b)*, then its posterior distribution accounting for observing *n* wins and *m* losses for the first player is *Beta(a + n, b + m)*.[^2] All that is left is to decide on a prior distribution representing our beliefs before observing any data. This is an interesting subtlety[^3], but it seems reasonable to choose a uniform prior, *Beta(1, 1)*, under which all possibilities are equally credible.\n\n[^2]: See [these slides](https://cchecastaldo.github.io/BayesianShortCourse/content/handouts/DerivationBetaBinomialConjugate.pdf) for a quick proof of this fact.\n\n[^3]: See [this StackExchange answer](https://stats.stackexchange.com/a/298176/327338) for more on uninformative Beta priors.\n\nFrom the posterior distribution, we can construct a 90% [credible interval](https://en.wikipedia.org/wiki/Credible_interval) using `qbeta`. Unlike the confidence intervals used in frequentist statistical inference, which are the source of much confusion, Bayesian credible intervals have a straightforward interpretation: we're 90% sure the true value of the parameter is contained in a 90% credible interval.[^4]\n\n[^4]: Frequentists view the bounds of a confidence interval as random, and the parameter value as fixed. Bayesians view the bounds of a credible interval as fixed, and the parameter value as random.\n\nWe can also calculate the probability that the first player is favoured (i.e. is expected to win at least half the time) in each opening using `pbeta`. In this case we don't consider the extent of the advantage, just whether there is one.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhomeworlds_openings |>\n  mutate(across(c(p1_hw, p2_hw), \n                \\(x) factor(x, ordered = T, levels = hw_sizes))) |>\n  rowwise() |>\n  mutate(p1_wins = n*p1_wr,\n         p2_wins = n*(1 - p1_wr),\n         # calculate a 90% credible interval from the posterior distribution\n         ci_lower = qbeta(c(0.05, 0.95), 1 + p1_wins, 1 + p2_wins)[1],\n         ci_upper = qbeta(c(0.05, 0.95), 1 + p1_wins, 1 + p2_wins)[2],\n         # format the interval as text\n         formatted_ci = paste0(round(100 * ci_lower),\n                               \"-\",\n                               round(100 * ci_upper),\n                               \"%\"),\n         # bold intervals that do not contain 50%\n         ci_fontface = case_when(!between(0.5, ci_lower, ci_upper) ~ \"bold\",\n                                 T ~ \"plain\"),\n         universe_size = universe_size(p1_hw, p2_hw),\n         universe_size = factor(universe_size, \n                                ordered = TRUE, \n                                levels = universe_sizes),\n         prob_fav = 1 - pbeta(0.5, 1 + p1_wins, 1 + p2_wins),\n         formatted_prob_fav = case_when(\n           prob_fav < 0.005 ~ \"<1%\",\n           prob_fav < 0.995 ~ paste0(round(100 * prob_fav), \"%\"),\n           T ~ \">99%\"),\n         prob_fav_fontface = case_when(abs(prob_fav - 0.5) > 0.45 ~ \"bold\", \n                                       T ~ \"plain\")) |>\n  arrange(p1_hw, p2_hw) ->\n  visualization_data\n\nvisualization_data |>\n  select(p1_hw, p2_hw, formatted_ci, prob_fav) |>\n  gt() |>\n  cols_label(p1_hw = \"First Player\",\n             p2_hw = \"Second Player\",\n             formatted_ci = html(\"First Player Advantage<br>90% Credible Interval\"),\n             prob_fav = html(\"Probability of<br>First Player Advantage\")) |>\n  tab_spanner(label = md(\"**Homeworld Sizes**\"), columns = 1:2) |>\n  cols_align(align = \"center\", columns = everything()) |>\n  tab_header(title = \"First Player Advantage in Homeworlds Openings\") |>\n  tab_options(container.height = \"500px\") |>\n  opt_row_striping()\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"yjdzmieoby\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:500px;\">\n<style>#yjdzmieoby table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#yjdzmieoby thead, #yjdzmieoby tbody, #yjdzmieoby tfoot, #yjdzmieoby tr, #yjdzmieoby td, #yjdzmieoby th {\n  border-style: none;\n}\n\n#yjdzmieoby p {\n  margin: 0;\n  padding: 0;\n}\n\n#yjdzmieoby .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#yjdzmieoby .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#yjdzmieoby .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#yjdzmieoby .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#yjdzmieoby .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#yjdzmieoby .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#yjdzmieoby .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#yjdzmieoby .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#yjdzmieoby .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#yjdzmieoby .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#yjdzmieoby .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#yjdzmieoby .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#yjdzmieoby .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#yjdzmieoby .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#yjdzmieoby .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#yjdzmieoby .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#yjdzmieoby .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#yjdzmieoby .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#yjdzmieoby .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#yjdzmieoby .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#yjdzmieoby .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#yjdzmieoby .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#yjdzmieoby .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#yjdzmieoby .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#yjdzmieoby .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#yjdzmieoby .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#yjdzmieoby .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#yjdzmieoby .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#yjdzmieoby .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#yjdzmieoby .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#yjdzmieoby .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#yjdzmieoby .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#yjdzmieoby .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#yjdzmieoby .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#yjdzmieoby .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#yjdzmieoby .gt_left {\n  text-align: left;\n}\n\n#yjdzmieoby .gt_center {\n  text-align: center;\n}\n\n#yjdzmieoby .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#yjdzmieoby .gt_font_normal {\n  font-weight: normal;\n}\n\n#yjdzmieoby .gt_font_bold {\n  font-weight: bold;\n}\n\n#yjdzmieoby .gt_font_italic {\n  font-style: italic;\n}\n\n#yjdzmieoby .gt_super {\n  font-size: 65%;\n}\n\n#yjdzmieoby .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#yjdzmieoby .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#yjdzmieoby .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#yjdzmieoby .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#yjdzmieoby .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#yjdzmieoby .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#yjdzmieoby .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_heading\">\n      <td colspan=\"4\" class=\"gt_heading gt_title gt_font_normal gt_bottom_border\" style>First Player Advantage in Homeworlds Openings</td>\n    </tr>\n    \n    <tr class=\"gt_col_headings gt_spanner_row\">\n      <th class=\"gt_center gt_columns_top_border gt_column_spanner_outer\" rowspan=\"1\" colspan=\"2\" scope=\"colgroup\" id=\"&lt;strong&gt;Homeworld Sizes&lt;/strong&gt;\">\n        <span class=\"gt_column_spanner\"><strong>Homeworld Sizes</strong></span>\n      </th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"2\" colspan=\"1\" scope=\"col\" id=\"First Player Advantage&lt;br&gt;90% Credible Interval\">First Player Advantage<br>90% Credible Interval</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"2\" colspan=\"1\" scope=\"col\" id=\"Probability of&lt;br&gt;First Player Advantage\">Probability of<br>First Player Advantage</th>\n    </tr>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"First Player\">First Player</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Second Player\">Second Player</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"p1_hw\" class=\"gt_row gt_center\">SM</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center\">SM</td>\n<td headers=\"formatted_ci\" class=\"gt_row gt_center\">60-69%</td>\n<td headers=\"prob_fav\" class=\"gt_row gt_center\">0.999999680</td></tr>\n    <tr><td headers=\"p1_hw\" class=\"gt_row gt_center gt_striped\">SM</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center gt_striped\">SL</td>\n<td headers=\"formatted_ci\" class=\"gt_row gt_center gt_striped\">45-52%</td>\n<td headers=\"prob_fav\" class=\"gt_row gt_center gt_striped\">0.248413661</td></tr>\n    <tr><td headers=\"p1_hw\" class=\"gt_row gt_center\">SM</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center\">ML</td>\n<td headers=\"formatted_ci\" class=\"gt_row gt_center\">47-52%</td>\n<td headers=\"prob_fav\" class=\"gt_row gt_center\">0.387849078</td></tr>\n    <tr><td headers=\"p1_hw\" class=\"gt_row gt_center gt_striped\">SM</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center gt_striped\">SS</td>\n<td headers=\"formatted_ci\" class=\"gt_row gt_center gt_striped\">25-90%</td>\n<td headers=\"prob_fav\" class=\"gt_row gt_center gt_striped\">0.687849323</td></tr>\n    <tr><td headers=\"p1_hw\" class=\"gt_row gt_center\">SM</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center\">MM</td>\n<td headers=\"formatted_ci\" class=\"gt_row gt_center\">32-51%</td>\n<td headers=\"prob_fav\" class=\"gt_row gt_center\">0.061530777</td></tr>\n    <tr><td headers=\"p1_hw\" class=\"gt_row gt_center gt_striped\">SM</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center gt_striped\">LL</td>\n<td headers=\"formatted_ci\" class=\"gt_row gt_center gt_striped\">40-62%</td>\n<td headers=\"prob_fav\" class=\"gt_row gt_center gt_striped\">0.556708384</td></tr>\n    <tr><td headers=\"p1_hw\" class=\"gt_row gt_center\">SL</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center\">SM</td>\n<td headers=\"formatted_ci\" class=\"gt_row gt_center\">41-49%</td>\n<td headers=\"prob_fav\" class=\"gt_row gt_center\">0.013054745</td></tr>\n    <tr><td headers=\"p1_hw\" class=\"gt_row gt_center gt_striped\">SL</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center gt_striped\">SL</td>\n<td headers=\"formatted_ci\" class=\"gt_row gt_center gt_striped\">53-67%</td>\n<td headers=\"prob_fav\" class=\"gt_row gt_center gt_striped\">0.991093430</td></tr>\n    <tr><td headers=\"p1_hw\" class=\"gt_row gt_center\">SL</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center\">ML</td>\n<td headers=\"formatted_ci\" class=\"gt_row gt_center\">46-54%</td>\n<td headers=\"prob_fav\" class=\"gt_row gt_center\">0.533008043</td></tr>\n    <tr><td headers=\"p1_hw\" class=\"gt_row gt_center gt_striped\">SL</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center gt_striped\">SS</td>\n<td headers=\"formatted_ci\" class=\"gt_row gt_center gt_striped\">34-87%</td>\n<td headers=\"prob_fav\" class=\"gt_row gt_center gt_striped\">0.773895167</td></tr>\n    <tr><td headers=\"p1_hw\" class=\"gt_row gt_center\">SL</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center\">MM</td>\n<td headers=\"formatted_ci\" class=\"gt_row gt_center\">21-61%</td>\n<td headers=\"prob_fav\" class=\"gt_row gt_center\">0.212754245</td></tr>\n    <tr><td headers=\"p1_hw\" class=\"gt_row gt_center gt_striped\">SL</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center gt_striped\">LL</td>\n<td headers=\"formatted_ci\" class=\"gt_row gt_center gt_striped\">33-63%</td>\n<td headers=\"prob_fav\" class=\"gt_row gt_center gt_striped\">0.423357565</td></tr>\n    <tr><td headers=\"p1_hw\" class=\"gt_row gt_center\">ML</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center\">SM</td>\n<td headers=\"formatted_ci\" class=\"gt_row gt_center\">44-50%</td>\n<td headers=\"prob_fav\" class=\"gt_row gt_center\">0.066035425</td></tr>\n    <tr><td headers=\"p1_hw\" class=\"gt_row gt_center gt_striped\">ML</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center gt_striped\">SL</td>\n<td headers=\"formatted_ci\" class=\"gt_row gt_center gt_striped\">50-58%</td>\n<td headers=\"prob_fav\" class=\"gt_row gt_center gt_striped\">0.935076177</td></tr>\n    <tr><td headers=\"p1_hw\" class=\"gt_row gt_center\">ML</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center\">ML</td>\n<td headers=\"formatted_ci\" class=\"gt_row gt_center\">55-64%</td>\n<td headers=\"prob_fav\" class=\"gt_row gt_center\">0.999647706</td></tr>\n    <tr><td headers=\"p1_hw\" class=\"gt_row gt_center gt_striped\">ML</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center gt_striped\">SS</td>\n<td headers=\"formatted_ci\" class=\"gt_row gt_center gt_striped\">26-58%</td>\n<td headers=\"prob_fav\" class=\"gt_row gt_center gt_striped\">0.202200438</td></tr>\n    <tr><td headers=\"p1_hw\" class=\"gt_row gt_center\">ML</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center\">MM</td>\n<td headers=\"formatted_ci\" class=\"gt_row gt_center\">26-55%</td>\n<td headers=\"prob_fav\" class=\"gt_row gt_center\">0.132786582</td></tr>\n    <tr><td headers=\"p1_hw\" class=\"gt_row gt_center gt_striped\">ML</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center gt_striped\">LL</td>\n<td headers=\"formatted_ci\" class=\"gt_row gt_center gt_striped\">31-58%</td>\n<td headers=\"prob_fav\" class=\"gt_row gt_center gt_striped\">0.249135577</td></tr>\n    <tr><td headers=\"p1_hw\" class=\"gt_row gt_center\">SS</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center\">SM</td>\n<td headers=\"formatted_ci\" class=\"gt_row gt_center\">8-36%</td>\n<td headers=\"prob_fav\" class=\"gt_row gt_center\">0.001698437</td></tr>\n    <tr><td headers=\"p1_hw\" class=\"gt_row gt_center gt_striped\">SS</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center gt_striped\">SL</td>\n<td headers=\"formatted_ci\" class=\"gt_row gt_center gt_striped\">14-53%</td>\n<td headers=\"prob_fav\" class=\"gt_row gt_center gt_striped\">0.081930335</td></tr>\n    <tr><td headers=\"p1_hw\" class=\"gt_row gt_center\">SS</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center\">ML</td>\n<td headers=\"formatted_ci\" class=\"gt_row gt_center\">8-47%</td>\n<td headers=\"prob_fav\" class=\"gt_row gt_center\">0.032714844</td></tr>\n    <tr><td headers=\"p1_hw\" class=\"gt_row gt_center gt_striped\">SS</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center gt_striped\">SS</td>\n<td headers=\"formatted_ci\" class=\"gt_row gt_center gt_striped\">29-81%</td>\n<td headers=\"prob_fav\" class=\"gt_row gt_center gt_striped\">0.635929076</td></tr>\n    <tr><td headers=\"p1_hw\" class=\"gt_row gt_center\">SS</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center\">MM</td>\n<td headers=\"formatted_ci\" class=\"gt_row gt_center\">17-83%</td>\n<td headers=\"prob_fav\" class=\"gt_row gt_center\">0.500000000</td></tr>\n    <tr><td headers=\"p1_hw\" class=\"gt_row gt_center gt_striped\">SS</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center gt_striped\">LL</td>\n<td headers=\"formatted_ci\" class=\"gt_row gt_center gt_striped\">8-66%</td>\n<td headers=\"prob_fav\" class=\"gt_row gt_center gt_striped\">0.187500000</td></tr>\n    <tr><td headers=\"p1_hw\" class=\"gt_row gt_center\">MM</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center\">SM</td>\n<td headers=\"formatted_ci\" class=\"gt_row gt_center\">52-73%</td>\n<td headers=\"prob_fav\" class=\"gt_row gt_center\">0.973623861</td></tr>\n    <tr><td headers=\"p1_hw\" class=\"gt_row gt_center gt_striped\">MM</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center gt_striped\">SL</td>\n<td headers=\"formatted_ci\" class=\"gt_row gt_center gt_striped\">56-87%</td>\n<td headers=\"prob_fav\" class=\"gt_row gt_center gt_striped\">0.986698151</td></tr>\n    <tr><td headers=\"p1_hw\" class=\"gt_row gt_center\">MM</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center\">ML</td>\n<td headers=\"formatted_ci\" class=\"gt_row gt_center\">57-77%</td>\n<td headers=\"prob_fav\" class=\"gt_row gt_center\">0.996318685</td></tr>\n    <tr><td headers=\"p1_hw\" class=\"gt_row gt_center gt_striped\">MM</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center gt_striped\">SS</td>\n<td headers=\"formatted_ci\" class=\"gt_row gt_center gt_striped\">34-87%</td>\n<td headers=\"prob_fav\" class=\"gt_row gt_center gt_striped\">0.773895167</td></tr>\n    <tr><td headers=\"p1_hw\" class=\"gt_row gt_center\">MM</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center\">MM</td>\n<td headers=\"formatted_ci\" class=\"gt_row gt_center\">40-69%</td>\n<td headers=\"prob_fav\" class=\"gt_row gt_center\">0.704614834</td></tr>\n    <tr><td headers=\"p1_hw\" class=\"gt_row gt_center gt_striped\">MM</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center gt_striped\">LL</td>\n<td headers=\"formatted_ci\" class=\"gt_row gt_center gt_striped\">34-83%</td>\n<td headers=\"prob_fav\" class=\"gt_row gt_center gt_striped\">0.746093750</td></tr>\n    <tr><td headers=\"p1_hw\" class=\"gt_row gt_center\">LL</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center\">SM</td>\n<td headers=\"formatted_ci\" class=\"gt_row gt_center\">60-81%</td>\n<td headers=\"prob_fav\" class=\"gt_row gt_center\">0.998935554</td></tr>\n    <tr><td headers=\"p1_hw\" class=\"gt_row gt_center gt_striped\">LL</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center gt_striped\">SL</td>\n<td headers=\"formatted_ci\" class=\"gt_row gt_center gt_striped\">38-60%</td>\n<td headers=\"prob_fav\" class=\"gt_row gt_center gt_striped\">0.448433249</td></tr>\n    <tr><td headers=\"p1_hw\" class=\"gt_row gt_center\">LL</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center\">ML</td>\n<td headers=\"formatted_ci\" class=\"gt_row gt_center\">54-71%</td>\n<td headers=\"prob_fav\" class=\"gt_row gt_center\">0.991765439</td></tr>\n    <tr><td headers=\"p1_hw\" class=\"gt_row gt_center gt_striped\">LL</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center gt_striped\">SS</td>\n<td headers=\"formatted_ci\" class=\"gt_row gt_center gt_striped\">48-95%</td>\n<td headers=\"prob_fav\" class=\"gt_row gt_center gt_striped\">0.937298892</td></tr>\n    <tr><td headers=\"p1_hw\" class=\"gt_row gt_center\">LL</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center\">MM</td>\n<td headers=\"formatted_ci\" class=\"gt_row gt_center\">61-96%</td>\n<td headers=\"prob_fav\" class=\"gt_row gt_center\">0.989278600</td></tr>\n    <tr><td headers=\"p1_hw\" class=\"gt_row gt_center gt_striped\">LL</td>\n<td headers=\"p2_hw\" class=\"gt_row gt_center gt_striped\">LL</td>\n<td headers=\"formatted_ci\" class=\"gt_row gt_center gt_striped\">41-58%</td>\n<td headers=\"prob_fav\" class=\"gt_row gt_center gt_striped\">0.462032892</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\n## Visualizing First Player Advantage\n\n::: panel-tabset\n### Credible Intervals\n\n\n::: {.cell}\n\n```{.r .cell-code}\nvisualization_data |>\n  # underlying plot\n  ggplot() +\n  # aesthetic mapping\n  aes(x = p1_hw, y = p2_hw, fill = p1_wr) +\n  # visual elements representing the data\n  ## add tiles coloured to indicate the observed first player win rate\n  geom_tile(width = 0.8, height = 0.8) +\n  ## add dots to indicate universe size\n  geom_point(aes(colour = universe_size), \n             position = position_nudge(x = 0.3, y = 0.3), \n             size = 3) +\n  ## trick to circle the universe size dots without a fill scale collision\n  geom_point(size = 3, \n             shape = 21, \n             fill = NA, \n             colour = \"black\", \n             position = position_nudge(x = 0.3, y = 0.3)) +\n  # scales\n  ## gradient scale for the tiles\n  scale_fill_viridis(option = \"cividis\") +\n  ## discrete scale for the universe size dots\n  scale_colour_viridis(option = \"cividis\", discrete = TRUE) +\n  scale_y_discrete(limits = rev) +\n  # labels\n  labs(title = \"Homeworlds First Player Advantage by Opening\",\n       x = \"First Player's Homeworld Sizes\",\n       y = \"Second Player's Homeworld Sizes\",\n       fill = \"Observed First Player\\nWin Rate\",\n       colour = \"Universe Size\") +\n  # theming\n  theme_jdonland() +\n#  theme(panel.background = element_rect(colour = \"#fffcf9\")) +\n  ## put the win rate legend under the universe size legend\n  guides(colour = guide_legend(order = 1)) ->\n  plot\n\n# version labelled with credible intervals\nplot +\n  # add formatted credible intervals as text\n  geom_label(aes(label = formatted_ci, fontface = ci_fontface),\n             fill = \"#fffcf9\",\n             label.padding = unit(0.125, \"lines\")) +\n  # add subtitle\n  labs(subtitle = \"90% Bayesian credible intervals with uniform priors\")\n```\n\n::: {.cell-output-display}\n![](homeworlds_openings_files/figure-html/credible-intervals-graphic-1.png){width=672}\n:::\n:::\n\n\n### Posterior Probability of First Player Advantage\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# version labelled with posterior probability of first player advantage\nplot + \n  # add posterior probability first player is favoured as text\n  geom_label(aes(label = formatted_prob_fav, fontface = prob_fav_fontface),\n            fill = \"#fffcf9\",\n            label.padding = unit(0.125, \"lines\")) +\n  # add subtitle\n  labs(subtitle = \"Posterior probability first player is favoured\")\n```\n\n::: {.cell-output-display}\n![](homeworlds_openings_files/figure-html/posterior-probability-graphic-1.png){width=672}\n:::\n:::\n\n:::\n\n## Observations\n\nIt seems that the first player should probably choose a large-large or medium-medium homeworld configuration. A homeworld with equally-sized stars is known as a \"Gemini\" configuration. When the first player chooses a Gemini opening, the second player loses the option of creating a large universe; only a small or a microverse is possible.\n\nThe second player should opt for a small universe rather than a microverse. (A large universe is not possible when the first player's homeworld contains stars of equal size.)\n\nWhy isn't small-small also advantageous for the first player? This is likely due to creating a bank configuration which will provide better lines of play to the second player in the early turns of the game.\n\n## Confounding Variables\n\nOne might reasonably object to the model described above. For one thing, it does not take into account the colours of the pieces selected. This is a relatively minor issue, however, since a certain combination of colours[^5] is almost universally chosen.\n\n[^5]: Blue and yellow stars with a green ship.\n\nMore concerning is the potentially confounding effect of player skill. It's very possible that some openings may be effective only in the hands of experts. It would be interesting to revisit this analysis with more granular and detailed data that included Elo ratings. You can help with this by learning Homeworlds!\n\nYou can buy a Homeworlds set from Looney Labs. The same pieces can also be used to play many other interesting games.\n\n## Conclusions\n\nIf you're playing first, start with two large stars of blue and yellow, and a large green ship. If you're playing second and your opponent has followed my advice, try small-large or large-large in the same colours.\n\n## References\n\n-   [Homeworlds \\| Looney Labs](https://www.looneylabs.com/rules/homeworlds)\n-   [Play Homeworlds Online \\| BoardGameArena](https://en.boardgamearena.com/gamepanel?game=homeworlds)\n-   [Looney Labs' Online Store](https://store.looneylabs.com/collections/pyramid-games/products/homeworlds)\n-   [Babamots' Homeworlds Site](https://jpeterbaker.github.io/homeworlds/site/index.html)\n-   [Andy's Page About Homeworlds](http://www.wunderland.com/WTS/Andy/Games/ILoveHomeworlds.html)\n-   [Homeworlds \\| Board Game \\| BoardGameGeek](https://boardgamegeek.com/boardgame/14634/homeworlds)\n",
    "supporting": [
      "homeworlds_openings_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}