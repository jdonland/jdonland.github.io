<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2023-07-07">
<meta name="description" content="Time trials and tribulations.">

<title>Jesse Onland - Cycling Hour Records</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<link href="../../image.jpg" rel="icon" type="image/jpeg">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="../../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

<script src="../../site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="../../site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Jesse Onland</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../posts.html" rel="" target="">
 <span class="menu-text">Index</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../links.html" rel="" target="">
 <span class="menu-text">Links</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../resume.pdf" rel="" target="">
 <span class="menu-text">Resume</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Cycling Hour Records</h1>
</div>

<div>
  <div class="description">
    Time trials and tribulations.
  </div>
</div>


<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">July 7, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="introduction" class="level2">
<h2 data-anchor-id="introduction">Introduction</h2>
<p>One of the most prestigious achievements in professional cycling is the hour record: travel farther on a bicycle in one hour than anyone has before.</p>
</section>
<section id="history" class="level2 page-columns page-full">
<h2 data-anchor-id="history">History</h2>
<div class="page-columns page-full"><p>Henri Desgrange, the bicycle racer and sports journalist who organized the Tour de France in its earliest years, set the first official hour record at 35.325 km on the Vélodrome Buffalo in Paris in 1893. Two months later, a Mlle<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> de Saint-Saveur set the women’s record at 26.012 km on the same track.</p><div class="no-row-height column-margin column-container"><li id="fn1"><p><sup>1</sup>&nbsp;Her first name seems to be lost to history.</p></li></div></div>
<p>Eight decades later, Eddy Merckx would break the men’s record by riding 49.431 km. Merckx was by that time undisputedly the greatest cylist of all time, but despite taking advantage of the lower aerodynamic drag offered by Mexico City’s high altitude, he described it as the hardest ride of his life. Maria Cressari broke the women’s record with a 41.471 km ride on the same track a month later.</p>
<div class="page-columns page-full"><p>The 1980s and 90s were a period of controversy for the hour record. A series of improvements on the records of Merckx and Cressari were achieved, but many attributed these to more aerodynamic equipment and riding postures. The battle over the hour record between the unconventional cyclist Graeme Obree and the UCI<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> was dramatized in the 2006 film <a href="https://www.imdb.com/title/tt0472268/">The Flying Scotsman</a>. The ultimate result was a decision split the hour record into two categories: one requiring the use of equipment similar to what was available to Merckx and Cressari in the early 70s, and another allowing basically anything that was arguably a bicycle. This change was retroactive, so the official men’s hour record was reverted to Merckx’s.</p><div class="no-row-height column-margin column-container"><li id="fn2"><p><sup>2</sup>&nbsp;Professional cycling’s regulatory body.</p></li></div></div>
<div class="page-columns page-full"><p>While Cressari’s record had been improved upon five times by the early 2000s, the men’s record was just barely broken<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a> by Chris Boardman and then by Ondřej Sosenka. The former had the advantage of shoes which locked into the pedals and the latter was probably doping at the time he the broke record. There followed a decade of disinterest in the hour record.</p><div class="no-row-height column-margin column-container"><li id="fn3"><p><sup>3</sup>&nbsp;By a margin of only 10 m!</p></li></div></div>
<p>The UCI revived the hour record in 2014 by changing the rules again. Going forward, the hour record would use the same equipment as Olympic track cycling races. The result was a burst of new hour record attempts including several successes. The current record holders are Filippo Ganna and Ellen van Dijk with 56.792 km and 49.254 km respectively.</p>
</section>
<section id="data" class="level2">
<h2 data-anchor-id="data">Data</h2>
<p>We can classify successful record attempts into four types: <strong>historical</strong> records set before Merckx’s, <strong>classic</strong> records set under the restrictive equipment rules, <strong>absolute</strong> records set under the permissive rules, and <strong>unified</strong> records set since the unification of the equipment rules with track racing.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">read_csv</span>(<span class="st">"hour_records.csv"</span>, <span class="at">col_types =</span> <span class="st">"ccffn"</span>) <span class="sc">|&gt;</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">mdy</span>(date)) <span class="ot">-&gt;</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  hour_records</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>hour_records <span class="sc">|&gt;</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">"Cycling Hour Records"</span>) <span class="sc">|&gt;</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scroll_box</span>(<span class="at">height =</span> <span class="st">"5in"</span>)</span></code></pre></div>
<div class="cell-output-display">
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:5in; ">
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<caption>Cycling Hour Records</caption>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF;">date</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF;">name</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF;">gender</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF;">type</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">distance</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1893-05-11</td>
<td style="text-align: left;">Henri Desgrange</td>
<td style="text-align: left;">Men's</td>
<td style="text-align: left;">Historical</td>
<td style="text-align: right;">35.325</td>
</tr>
<tr class="even">
<td style="text-align: left;">1894-10-31</td>
<td style="text-align: left;">Jules Dubois</td>
<td style="text-align: left;">Men's</td>
<td style="text-align: left;">Historical</td>
<td style="text-align: right;">38.220</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1897-07-30</td>
<td style="text-align: left;">Oscar Van den Eynde</td>
<td style="text-align: left;">Men's</td>
<td style="text-align: left;">Historical</td>
<td style="text-align: right;">39.240</td>
</tr>
<tr class="even">
<td style="text-align: left;">1898-07-03</td>
<td style="text-align: left;">Willie Hamilton</td>
<td style="text-align: left;">Men's</td>
<td style="text-align: left;">Historical</td>
<td style="text-align: right;">40.781</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1905-08-24</td>
<td style="text-align: left;">Lucien Petit-Breton</td>
<td style="text-align: left;">Men's</td>
<td style="text-align: left;">Historical</td>
<td style="text-align: right;">41.110</td>
</tr>
<tr class="even">
<td style="text-align: left;">1907-06-20</td>
<td style="text-align: left;">Marcel Berthet</td>
<td style="text-align: left;">Men's</td>
<td style="text-align: left;">Historical</td>
<td style="text-align: right;">41.520</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1912-08-22</td>
<td style="text-align: left;">Oscar Egg</td>
<td style="text-align: left;">Men's</td>
<td style="text-align: left;">Historical</td>
<td style="text-align: right;">42.360</td>
</tr>
<tr class="even">
<td style="text-align: left;">1913-08-07</td>
<td style="text-align: left;">Marcel Berthet</td>
<td style="text-align: left;">Men's</td>
<td style="text-align: left;">Historical</td>
<td style="text-align: right;">42.741</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1913-08-21</td>
<td style="text-align: left;">Oscar Egg</td>
<td style="text-align: left;">Men's</td>
<td style="text-align: left;">Historical</td>
<td style="text-align: right;">43.525</td>
</tr>
<tr class="even">
<td style="text-align: left;">1913-09-20</td>
<td style="text-align: left;">Marcel Berthet</td>
<td style="text-align: left;">Men's</td>
<td style="text-align: left;">Historical</td>
<td style="text-align: right;">43.775</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1914-08-18</td>
<td style="text-align: left;">Oscar Egg</td>
<td style="text-align: left;">Men's</td>
<td style="text-align: left;">Historical</td>
<td style="text-align: right;">44.247</td>
</tr>
<tr class="even">
<td style="text-align: left;">1933-08-25</td>
<td style="text-align: left;">Jan van Hout</td>
<td style="text-align: left;">Men's</td>
<td style="text-align: left;">Historical</td>
<td style="text-align: right;">44.588</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1933-09-28</td>
<td style="text-align: left;">Maurice Richard</td>
<td style="text-align: left;">Men's</td>
<td style="text-align: left;">Historical</td>
<td style="text-align: right;">44.777</td>
</tr>
<tr class="even">
<td style="text-align: left;">1935-10-31</td>
<td style="text-align: left;">Giuseppe Olmo</td>
<td style="text-align: left;">Men's</td>
<td style="text-align: left;">Historical</td>
<td style="text-align: right;">45.090</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1936-10-14</td>
<td style="text-align: left;">Maurice Richard</td>
<td style="text-align: left;">Men's</td>
<td style="text-align: left;">Historical</td>
<td style="text-align: right;">45.325</td>
</tr>
<tr class="even">
<td style="text-align: left;">1937-09-29</td>
<td style="text-align: left;">Frans Slaats</td>
<td style="text-align: left;">Men's</td>
<td style="text-align: left;">Historical</td>
<td style="text-align: right;">45.485</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1937-11-03</td>
<td style="text-align: left;">Maurice Archambaud</td>
<td style="text-align: left;">Men's</td>
<td style="text-align: left;">Historical</td>
<td style="text-align: right;">45.767</td>
</tr>
<tr class="even">
<td style="text-align: left;">1942-11-07</td>
<td style="text-align: left;">Fausto Coppi</td>
<td style="text-align: left;">Men's</td>
<td style="text-align: left;">Historical</td>
<td style="text-align: right;">45.798</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1956-06-29</td>
<td style="text-align: left;">Jacques Anquetil</td>
<td style="text-align: left;">Men's</td>
<td style="text-align: left;">Historical</td>
<td style="text-align: right;">46.159</td>
</tr>
<tr class="even">
<td style="text-align: left;">1956-09-19</td>
<td style="text-align: left;">Ercole Baldini</td>
<td style="text-align: left;">Men's</td>
<td style="text-align: left;">Historical</td>
<td style="text-align: right;">46.394</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1957-09-18</td>
<td style="text-align: left;">Roger Rivière</td>
<td style="text-align: left;">Men's</td>
<td style="text-align: left;">Historical</td>
<td style="text-align: right;">46.923</td>
</tr>
<tr class="even">
<td style="text-align: left;">1959-09-23</td>
<td style="text-align: left;">Roger Rivière</td>
<td style="text-align: left;">Men's</td>
<td style="text-align: left;">Historical</td>
<td style="text-align: right;">47.347</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1967-10-30</td>
<td style="text-align: left;">Ferdi Bracke</td>
<td style="text-align: left;">Men's</td>
<td style="text-align: left;">Historical</td>
<td style="text-align: right;">48.093</td>
</tr>
<tr class="even">
<td style="text-align: left;">1968-10-10</td>
<td style="text-align: left;">Ole Ritter</td>
<td style="text-align: left;">Men's</td>
<td style="text-align: left;">Historical</td>
<td style="text-align: right;">48.653</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1972-10-25</td>
<td style="text-align: left;">Eddy Merckx</td>
<td style="text-align: left;">Men's</td>
<td style="text-align: left;">Classic</td>
<td style="text-align: right;">49.431</td>
</tr>
<tr class="even">
<td style="text-align: left;">1984-01-09</td>
<td style="text-align: left;">Francesco Moser</td>
<td style="text-align: left;">Men's</td>
<td style="text-align: left;">Absolute</td>
<td style="text-align: right;">50.808</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1984-01-23</td>
<td style="text-align: left;">Francesco Moser</td>
<td style="text-align: left;">Men's</td>
<td style="text-align: left;">Absolute</td>
<td style="text-align: right;">51.151</td>
</tr>
<tr class="even">
<td style="text-align: left;">1993-07-17</td>
<td style="text-align: left;">Graeme Obree</td>
<td style="text-align: left;">Men's</td>
<td style="text-align: left;">Absolute</td>
<td style="text-align: right;">51.596</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1993-07-23</td>
<td style="text-align: left;">Chris Boardman</td>
<td style="text-align: left;">Men's</td>
<td style="text-align: left;">Absolute</td>
<td style="text-align: right;">52.270</td>
</tr>
<tr class="even">
<td style="text-align: left;">1994-04-27</td>
<td style="text-align: left;">Graeme Obree</td>
<td style="text-align: left;">Men's</td>
<td style="text-align: left;">Absolute</td>
<td style="text-align: right;">52.713</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1994-09-02</td>
<td style="text-align: left;">Miguel Indurain</td>
<td style="text-align: left;">Men's</td>
<td style="text-align: left;">Absolute</td>
<td style="text-align: right;">53.040</td>
</tr>
<tr class="even">
<td style="text-align: left;">1994-10-22</td>
<td style="text-align: left;">Tony Rominger</td>
<td style="text-align: left;">Men's</td>
<td style="text-align: left;">Absolute</td>
<td style="text-align: right;">53.832</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1994-11-05</td>
<td style="text-align: left;">Tony Rominger</td>
<td style="text-align: left;">Men's</td>
<td style="text-align: left;">Absolute</td>
<td style="text-align: right;">55.291</td>
</tr>
<tr class="even">
<td style="text-align: left;">1996-09-06</td>
<td style="text-align: left;">Chris Boardman</td>
<td style="text-align: left;">Men's</td>
<td style="text-align: left;">Absolute</td>
<td style="text-align: right;">56.375</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2000-10-27</td>
<td style="text-align: left;">Chris Boardman</td>
<td style="text-align: left;">Men's</td>
<td style="text-align: left;">Classic</td>
<td style="text-align: right;">49.441</td>
</tr>
<tr class="even">
<td style="text-align: left;">2005-07-19</td>
<td style="text-align: left;">Ondřej Sosenka</td>
<td style="text-align: left;">Men's</td>
<td style="text-align: left;">Classic</td>
<td style="text-align: right;">49.700</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2014-09-01</td>
<td style="text-align: left;">Jens Voigt</td>
<td style="text-align: left;">Men's</td>
<td style="text-align: left;">Unified</td>
<td style="text-align: right;">51.110</td>
</tr>
<tr class="even">
<td style="text-align: left;">2014-10-30</td>
<td style="text-align: left;">Matthias Brändle</td>
<td style="text-align: left;">Men's</td>
<td style="text-align: left;">Unified</td>
<td style="text-align: right;">51.852</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2015-02-08</td>
<td style="text-align: left;">Rohan Dennis</td>
<td style="text-align: left;">Men's</td>
<td style="text-align: left;">Unified</td>
<td style="text-align: right;">52.491</td>
</tr>
<tr class="even">
<td style="text-align: left;">2015-05-02</td>
<td style="text-align: left;">Alex Dowsett</td>
<td style="text-align: left;">Men's</td>
<td style="text-align: left;">Unified</td>
<td style="text-align: right;">52.937</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2015-06-07</td>
<td style="text-align: left;">Bradley Wiggins</td>
<td style="text-align: left;">Men's</td>
<td style="text-align: left;">Unified</td>
<td style="text-align: right;">54.526</td>
</tr>
<tr class="even">
<td style="text-align: left;">2019-04-16</td>
<td style="text-align: left;">Victor Campenaerts</td>
<td style="text-align: left;">Men's</td>
<td style="text-align: left;">Unified</td>
<td style="text-align: right;">55.089</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2022-08-19</td>
<td style="text-align: left;">Daniel Bigham</td>
<td style="text-align: left;">Men's</td>
<td style="text-align: left;">Unified</td>
<td style="text-align: right;">55.548</td>
</tr>
<tr class="even">
<td style="text-align: left;">2022-10-08</td>
<td style="text-align: left;">Filippo Ganna</td>
<td style="text-align: left;">Men's</td>
<td style="text-align: left;">Unified</td>
<td style="text-align: right;">56.792</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1893-07-01</td>
<td style="text-align: left;">Mlle de Saint-Saveur</td>
<td style="text-align: left;">Women's</td>
<td style="text-align: left;">Historical</td>
<td style="text-align: right;">26.012</td>
</tr>
<tr class="even">
<td style="text-align: left;">1893-08-01</td>
<td style="text-align: left;">Renée Debatz</td>
<td style="text-align: left;">Women's</td>
<td style="text-align: left;">Historical</td>
<td style="text-align: right;">28.019</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1893-10-01</td>
<td style="text-align: left;">Hélène Dutrieu</td>
<td style="text-align: left;">Women's</td>
<td style="text-align: left;">Historical</td>
<td style="text-align: right;">28.780</td>
</tr>
<tr class="even">
<td style="text-align: left;">1897-10-01</td>
<td style="text-align: left;">Louise Roger</td>
<td style="text-align: left;">Women's</td>
<td style="text-align: left;">Historical</td>
<td style="text-align: right;">34.684</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1911-01-01</td>
<td style="text-align: left;">Alfonsina Strada</td>
<td style="text-align: left;">Women's</td>
<td style="text-align: left;">Historical</td>
<td style="text-align: right;">37.192</td>
</tr>
<tr class="even">
<td style="text-align: left;">1947-10-01</td>
<td style="text-align: left;">Élyane Bonneau</td>
<td style="text-align: left;">Women's</td>
<td style="text-align: left;">Historical</td>
<td style="text-align: right;">37.560</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1948-11-01</td>
<td style="text-align: left;">Jeannine Lemaire</td>
<td style="text-align: left;">Women's</td>
<td style="text-align: left;">Historical</td>
<td style="text-align: right;">37.720</td>
</tr>
<tr class="even">
<td style="text-align: left;">1949-07-01</td>
<td style="text-align: left;">Jeannine Lemaire</td>
<td style="text-align: left;">Women's</td>
<td style="text-align: left;">Historical</td>
<td style="text-align: right;">38.283</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1952-01-01</td>
<td style="text-align: left;">Jeannine Lemaire</td>
<td style="text-align: left;">Women's</td>
<td style="text-align: left;">Historical</td>
<td style="text-align: right;">39.735</td>
</tr>
<tr class="even">
<td style="text-align: left;">1955-07-07</td>
<td style="text-align: left;">Tamara Novikova</td>
<td style="text-align: left;">Women's</td>
<td style="text-align: left;">Historical</td>
<td style="text-align: right;">38.473</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1957-09-18</td>
<td style="text-align: left;">Renee Vissac</td>
<td style="text-align: left;">Women's</td>
<td style="text-align: left;">Historical</td>
<td style="text-align: right;">38.569</td>
</tr>
<tr class="even">
<td style="text-align: left;">1958-09-25</td>
<td style="text-align: left;">Millie Robinson</td>
<td style="text-align: left;">Women's</td>
<td style="text-align: left;">Historical</td>
<td style="text-align: right;">39.719</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1958-11-09</td>
<td style="text-align: left;">Elsy Jacobs</td>
<td style="text-align: left;">Women's</td>
<td style="text-align: left;">Historical</td>
<td style="text-align: right;">41.347</td>
</tr>
<tr class="even">
<td style="text-align: left;">1972-11-25</td>
<td style="text-align: left;">Maria Cressari</td>
<td style="text-align: left;">Women's</td>
<td style="text-align: left;">Classic</td>
<td style="text-align: right;">41.471</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1978-09-16</td>
<td style="text-align: left;">Keetie van Oosten</td>
<td style="text-align: left;">Women's</td>
<td style="text-align: left;">Classic</td>
<td style="text-align: right;">43.082</td>
</tr>
<tr class="even">
<td style="text-align: left;">2000-10-18</td>
<td style="text-align: left;">Anna Wilson-Millward</td>
<td style="text-align: left;">Women's</td>
<td style="text-align: left;">Classic</td>
<td style="text-align: right;">43.501</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2000-11-05</td>
<td style="text-align: left;">Jeannie Longo-Ciprelli</td>
<td style="text-align: left;">Women's</td>
<td style="text-align: left;">Classic</td>
<td style="text-align: right;">44.767</td>
</tr>
<tr class="even">
<td style="text-align: left;">2000-12-07</td>
<td style="text-align: left;">Jeannie Longo-Ciprelli</td>
<td style="text-align: left;">Women's</td>
<td style="text-align: left;">Classic</td>
<td style="text-align: right;">45.094</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2003-10-01</td>
<td style="text-align: left;">Leontien Zijlaard-van Moorsel</td>
<td style="text-align: left;">Women's</td>
<td style="text-align: left;">Classic</td>
<td style="text-align: right;">46.065</td>
</tr>
<tr class="even">
<td style="text-align: left;">1986-09-20</td>
<td style="text-align: left;">Jeannie Longo-Ciprelli</td>
<td style="text-align: left;">Women's</td>
<td style="text-align: left;">Absolute</td>
<td style="text-align: right;">44.770</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1987-09-23</td>
<td style="text-align: left;">Jeannie Longo-Ciprelli</td>
<td style="text-align: left;">Women's</td>
<td style="text-align: left;">Absolute</td>
<td style="text-align: right;">44.933</td>
</tr>
<tr class="even">
<td style="text-align: left;">1989-10-01</td>
<td style="text-align: left;">Jeannie Longo-Ciprelli</td>
<td style="text-align: left;">Women's</td>
<td style="text-align: left;">Absolute</td>
<td style="text-align: right;">46.352</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1995-04-29</td>
<td style="text-align: left;">Catherine Marsal</td>
<td style="text-align: left;">Women's</td>
<td style="text-align: left;">Absolute</td>
<td style="text-align: right;">47.112</td>
</tr>
<tr class="even">
<td style="text-align: left;">1995-06-17</td>
<td style="text-align: left;">Yvonne McGregor</td>
<td style="text-align: left;">Women's</td>
<td style="text-align: left;">Absolute</td>
<td style="text-align: right;">47.411</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1996-10-26</td>
<td style="text-align: left;">Jeannie Longo-Ciprelli</td>
<td style="text-align: left;">Women's</td>
<td style="text-align: left;">Absolute</td>
<td style="text-align: right;">48.159</td>
</tr>
<tr class="even">
<td style="text-align: left;">2015-09-12</td>
<td style="text-align: left;">Molly Shaffer Van Houweling</td>
<td style="text-align: left;">Women's</td>
<td style="text-align: left;">Unified</td>
<td style="text-align: right;">46.273</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2016-01-22</td>
<td style="text-align: left;">Bridie O'Donnell</td>
<td style="text-align: left;">Women's</td>
<td style="text-align: left;">Unified</td>
<td style="text-align: right;">46.882</td>
</tr>
<tr class="even">
<td style="text-align: left;">2016-02-27</td>
<td style="text-align: left;">Evelyn Stevens</td>
<td style="text-align: left;">Women's</td>
<td style="text-align: left;">Unified</td>
<td style="text-align: right;">47.980</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2018-09-13</td>
<td style="text-align: left;">Vittoria Bussi</td>
<td style="text-align: left;">Women's</td>
<td style="text-align: left;">Unified</td>
<td style="text-align: right;">48.007</td>
</tr>
<tr class="even">
<td style="text-align: left;">2021-09-30</td>
<td style="text-align: left;">Joscelin Lowden</td>
<td style="text-align: left;">Women's</td>
<td style="text-align: left;">Unified</td>
<td style="text-align: right;">48.405</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2022-05-23</td>
<td style="text-align: left;">Ellen van Dijk</td>
<td style="text-align: left;">Women's</td>
<td style="text-align: left;">Unified</td>
<td style="text-align: right;">49.254</td>
</tr>
</tbody>
</table>
</div>

</div>
</div>
</section>
<section id="visualization" class="level2">
<h2 data-anchor-id="visualization">Visualization</h2>
<p>Expand the code for the second plot to see a useful trick that allows one to modify the data set underlying a <code>ggplot</code> object, in this case to filter out the historical records.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">1893-present</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">1972-present</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>hour_records <span class="sc">|&gt;</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># aesthetic mapping</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> distance, <span class="at">colour =</span> type, <span class="at">fill =</span> type, <span class="at">label =</span> name) <span class="sc">+</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># visual elements representing the data</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">colour =</span> <span class="st">"#b4b4b4"</span>) <span class="sc">+</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># scales</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">25</span>,<span class="dv">60</span>,<span class="dv">5</span>), <span class="at">minor_breaks =</span> <span class="fu">seq</span>(<span class="dv">25</span>, <span class="dv">60</span>, <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_date</span>(<span class="at">breaks =</span> <span class="fu">as.Date</span>(<span class="fu">paste0</span>(<span class="fu">seq</span>(<span class="dv">1890</span>, <span class="dv">2030</span>, <span class="at">by =</span> <span class="dv">5</span>), <span class="st">"-01-01"</span>)),</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>               <span class="at">labels =</span> <span class="fu">date_format</span>(<span class="st">"%Y"</span>),</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>               <span class="at">guide =</span> <span class="fu">guide_axis</span>(<span class="at">n.dodge =</span> <span class="dv">2</span>),</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>               <span class="at">limits =</span> <span class="fu">as.Date</span>(<span class="fu">c</span>(<span class="st">"1890-01-01"</span>, <span class="st">"2025-01-01"</span>)),</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>               <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_colour_viridis</span>(<span class="at">discrete =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_viridis</span>(<span class="at">discrete =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>  <span class="co"># facets</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="at">facets =</span> <span class="fu">vars</span>(gender), </span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>             <span class="at">scales =</span> <span class="st">"free_y"</span>, </span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>             <span class="at">nrow =</span> <span class="dv">2</span>, </span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>             <span class="at">strip.position=</span><span class="st">"right"</span>) <span class="sc">+</span></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>  <span class="co"># labels</span></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Cycling Hour Records"</span>, </span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Distance (km)"</span>, </span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Date"</span>) <span class="sc">+</span></span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>  <span class="co"># theming</span></span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>,</span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.title =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.minor.x =</span> <span class="fu">element_blank</span>()) <span class="ot">-&gt;</span></span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a>  p</span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a>p</span></code></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="hour_records_files/figure-html/chart-1-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="hour_records_files/figure-html/chart-1-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># change the data embedded in the previous plot</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>p<span class="sc">$</span>data <span class="sc">|&gt;</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(type <span class="sc">!=</span> <span class="st">"Historical"</span>) <span class="ot">-&gt;</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  p<span class="sc">$</span>data</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="co"># re-plot it with text labels and new scales</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text_repel</span>(<span class="at">size =</span> <span class="dv">2</span>, <span class="at">colour =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_date</span>(<span class="at">breaks =</span> <span class="fu">as.Date</span>(<span class="fu">paste0</span>(<span class="fu">seq</span>(<span class="dv">1970</span>, <span class="dv">2030</span>, <span class="at">by =</span> <span class="dv">5</span>), <span class="st">"-01-01"</span>)),</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>               <span class="at">labels =</span> <span class="fu">date_format</span>(<span class="st">"%Y"</span>),</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>               <span class="at">limits =</span> <span class="fu">as.Date</span>(<span class="fu">c</span>(<span class="st">"1970-01-01"</span>, <span class="st">"2025-01-01"</span>)),</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>               <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>() <span class="sc">+</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_colour_viridis</span>(<span class="at">discrete =</span> <span class="cn">TRUE</span>, <span class="at">begin =</span> <span class="fl">0.33</span>) <span class="sc">+</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Cycling Hour Records, 1972-present"</span>)</span></code></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="hour_records_files/figure-html/chart-2-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2"><img src="hour_records_files/figure-html/chart-2-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="observations" class="level2">
<h2 data-anchor-id="observations">Observations</h2>
<p>These charts highlight how little progress was made on the men’s record during the classic era. We can also see that the unified records have overtaken the old “anything goes” absolute records. Finally, it’s interesting to note that the current women’s record is just slightly shy of Merckx’s.</p>
</section>
<section id="references" class="level2">
<h2 data-anchor-id="references">References</h2>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Hour_record">Hour record (Wikipedia)</a></li>
<li><a href="https://bikeraceinfo.com/riderhistories/Merckx-Hour-Record.html">Eddy Merckx and the Hour Record</a></li>
<li><a href="http://bikeretrogrouch.blogspot.com/2014/05/the-hour-record.html">The Retrogrouch: The Hour Record</a></li>
</ul>


</section>


</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<script>var lightboxQuarto = GLightbox({"loop":true,"selector":".lightbox","closeEffect":"zoom","descPosition":"bottom","openEffect":"zoom"});</script>



</body></html>